# Lobotomy Game Hub

## Описание проекта

Lobotomy Game Hub — это игровой веб-портал, объединяющий пользовательские обзоры, редакционные статьи и каталог видеоигр.

Платформа позволяет игрокам делиться личным опытом, читать материалы от редакции и находить игры по интересам, создавая активное сообщество вокруг игровой индустрии.

## Цель проекта

- Создать удобную платформу для обмена мнениями об играх
- Предоставить структурированный каталог игр с отзывами и обзорами
- Дать авторам редакции инструмент для публикации качественных материалов
- Сформировать активное комьюнити игроков и авторов контента

## Целевая аудитория

- Геймеры 25+, ценящие время и осознанный выбор игр
- Энтузиасты, любящие анализировать и обсуждать игры
- Казуальные игроки, ищущие игры по настроению
- Разработчики и издатели (аналитика пользовательских отзывов)

## Основной функционал

### Каталог игр

- Интеграция со сторонним API (RAWG)
- Фильтрация по дате релиза, рейтингу, названию, популярности
- Страница игры с описанием, отзывами и редакционными материалами

### Пользовательские отзывы

- Текстовые отзывы с оценкой (0–5)

### Редакционные публикации

- Единый раздел со статьями и новостями
- Публикация материалов редакцией
- Поддержка форматирования, изображений
- Привязка контента к конкретной игре

### Пользовательские аккаунты

- Регистрация и авторизация
- Профиль пользователя (аватар, описание, избранные жанры)

## Роли пользователей

- **Гость** — просмотр контента
- **Пользователь** — обзоры, комментарии, лайки
- **Сотрудник редакции** — публикация статей и новостей
- **Администратор** — модерация и управление ролями

## Архитектура проекта

- **Frontend**: SPA на React с React Router
- **Backend**: REST API на Node.js
- **Микросервисы**:
  - Go-микросервис, обрабатывающий асинхронные задачи
  - Взаимодействует через очередь сообщений **RabbitMQ**
- **База данных**: PostgreSQL
- **Очереди сообщений**: RabbitMQ
- **Аутентификация и сессии**:
  - JWT
  - Access-токен хранится в cookies
  - Данные сессии кэшируются в `localStorage`
- **Внешние сервисы**: игровой API (RAWG)

## Стек технологий

### Frontend

- React (SPA)
- React Router
- Работа с cookies и `localStorage` (хранение сессии)

### Backend

- Node.js
- REST API
- JWT

### Микросервисы

- Go
- RabbitMQ (очередь сообщений)

### Хранение данных

- PostgreSQL

## Запуск проекта

### 1. Предварительные требования

- Docker
- Docker Compose

### 2. Клонирование репозитория

Склонируйте репозиторий на компьютер:

```bash
git clone https://github.com/BestStarProggramer/LobotomyGameHub.git
cd LobotomyGameHub

```

### 3. Настройка окружения

В директории `server` создайте `.env` на основе `.env.example` и заполните переменные:

```bash
cd server
cp .env.example .env
# Затем заполните реальные значения в .env

```

В директории `email-notification-service` создайте `.env` на основе `.env.example` и заполните переменные:

```bash
cd email-notification-service
cp .env.example .env
# Затем заполните реальные значения в .env

```

### 4. Запуск контейнеров

```bash
docker compose up --build
# Для запуска в фоне: docker compose up -d --build
# Остановка контейнеров: docker compose down

```

## Получение секретов и ключей

### Пароль к PostgeSQL

Для переменной вроде `PGPASSWORD` и `POSTGRES_PASSWORD` нужно придумать одинаковый пароль.

Можно воспользоваться безопасным генератором:

```bash
openssl rand -hex 16

```

Это выдаст случайный 32-символьный пароль в hex-формате, который можно вставить в `.env`.

### JWT_SECRET

Через OpenSSL:

```bash
openssl rand -hex 32

```

Через Node.js:

```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

```

### API_KEY внешнего сервиса RAWG

1. Перейдите на [RAWG API Documentation](https://rawg.io/apidocs).
2. Нажмите кнопку **Get API Key**.
3. Следуйте инструкциям на сайте, чтобы получить ваш ключ.
4. Вставьте полученный ключ в переменную `API_KEY` в вашем `.env`.

### SMTP / Email (MailerSend)

Для отправки email‑уведомлений используется сервис **MailerSend**.

1. Перейдите на сайт [MailerSend](https://www.mailersend.com/) и зарегистрируйтесь.
2. Подтвердите email и войдите в панель управления.
3. В разделе **Domains** добавьте и подтвердите домен отправителя.
4. Перейдите в раздел **SMTP**.
5. Создайте SMTP‑ключ (username и password).
6. Укажите полученные значения в `.env`:

- `SMTP_HOST` — SMTP‑сервер MailerSend
- `SMTP_PORT` — порт SMTP (обычно `2525`)
- `SMTP_USERNAME` — SMTP username
- `SMTP_PASSWORD` — SMTP password
- `SENDER_EMAIL` — email отправителя. Формируется так: **любое_имя + @ + значение после “@” из SMTP_USERNAME**.
